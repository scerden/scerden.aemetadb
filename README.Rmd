---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```


# scerden.aemetadb

```{r}
library(scerden.aemetadb)
library(tidyverse)
```


R data pkg that makes avaiable two tables containing the subset of the 
[array express](http://www.ebi.ac.uk/arrayexpress/) data relevant to Saccharomyces cerevisiae:  
1. `ae_arrays` contains information on experimental platforms  
```{r}
ae_arrays %>% glimpse()
```

2. `ae_experiments` contains information on experiments  

```{r}
ae_experiments %>% glimpse()
```

3. `ae_links` contains links between accession type within AE
```{r}
ae_links
```

4. `ae_cel_files`
```{r}
ae_cel_files
```


In principle this should be a superset of array express only data and the GEO/SRA databases over 
at NCBI but this is not the case in practise.  

## install

```{r, eval = F}
devtools::install_github("scerden/scerden.aemetadb")
```

## pkg API

Get sample files associated with an experiment:
```{r}
ae_sample_files("E-MEXP-27")
```

## pkg creation:

* Prelims  
```{r, eval = F}
use_readme_rmd()
use_data_raw()
use_data()
```

* see `data-raw/` in pkg source:    
```{r, echo = F}
# suppressPackageStartupMessages(library(tidyverse,verbose = F))
library(stringr)
tibble::tibble(file = list.files("data-raw", pattern = "\\.R$")) %>% 
    tidyr::separate(file, c("step", "description"), sep = '_') %>% 
    dplyr::mutate(description = description %>% str_replace('\\.R$', '') %>% str_replace_all('-', ' ')) %>% 
    knitr::kable()
```

* when writing `R/` fxns:  
```{r, eval = F}
use_package("tidyr")
use_package("dplyr")
use_package("purrr")
use_package("stringr")
use_package("httr")
use_package("tibble")
```
